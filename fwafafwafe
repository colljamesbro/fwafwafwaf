-- Define the players who should not be kicked
local whitelist = {
    ["collljamesbroalt1"] = true,
    ["Sidjndnxnxnx"] = true
}

-- Create the ScreenGui
local screenGui = Instance.new("ScreenGui")
screenGui.Name = "KickGui"
screenGui.Parent = game.Players.LocalPlayer:WaitForChild("PlayerGui")

-- Create the button
local button = Instance.new("TextButton")
button.Name = "KickButton"
button.Size = UDim2.new(0, 200, 0, 50)
button.Position = UDim2.new(0.5, -100, 0.5, -25)
button.Text = "Kick Everyone (Except Whitelist)"
button.TextScaled = true
button.BackgroundColor3 = Color3.new(1, 0, 0)
button.TextColor3 = Color3.new(1, 1, 1)
button.Parent = screenGui

-- Button click functionality
button.MouseButton1Click:Connect(function()
    for _, otherPlayer in ipairs(game.Players:GetPlayers()) do
        if not whitelist[otherPlayer.Name] then
            otherPlayer:Kick("You have been removed by the game owner.")
        end
    end
end)
